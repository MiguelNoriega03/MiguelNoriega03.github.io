---
import type { HTMLAttributes } from 'astro/types';

type Props = HTMLAttributes<'a'>;

const { href, class: className, ...props } = Astro.props;

const { pathname } = Astro.url;
const isActive = href === pathname || href === pathname.replace(/\/$/, '');
---

<a
    class:list={[className, { 'active-link': isActive }]}
    href={href}
    {...(isActive ? { 'aria-current': 'page' } : {})}
    {...props}
>
    <slot />
</a>

<style>
    .active-link {
        text-decoration: underline;
        text-decoration-color: #dc2626;
        text-decoration-thickness: 2px;
        text-underline-offset: 4px;
        font-weight: 600;
    }
</style>
