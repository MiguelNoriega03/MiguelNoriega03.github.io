---
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';
import HeroCesar from '../assets/images/HeroCesar.jpeg';
import HeroMiguel from '../assets/images/HeroMiguel.JPG';
import Button from '../components/Button.astro';
import Hero from '../components/Hero.astro';
import siteConfig from '../data/site-config';
import BaseLayout from '../layouts/BaseLayout.astro';
import { sortItemsByDateDesc } from '../utils/data-utils';

const posts = (await getCollection('blog')).sort(sortItemsByDateDesc);
const featuredPosts = posts.filter(({ data }) => data.isFeatured);

const projects = (await getCollection('projects')).sort(sortItemsByDateDesc);
const featuredProjects = projects.filter(({ data }) => data.isFeatured);
---

<BaseLayout description={siteConfig.description}>
    <Hero {...siteConfig.hero} />
    
    {/* Sección Servicios - Tarjetas IA y Ventas */}
    <section class="mb-16 sm:mb-24">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-stretch">
            {/* Tarjeta IA */}
            <div class="flex flex-col h-full rounded-xl border border-gray-200 bg-white dark:bg-zinc-900 dark:border-zinc-700 p-6 sm:p-8 shadow-sm">
                <div class="flex-grow">
                    <h3 class="font-serif text-xl sm:text-2xl font-semibold mb-4 leading-tight">
                        No te quedes atrás: haz que la <span class="text-red-600">IA juegue a tu favor</span>
                    </h3>
                    <p class="text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-6">
                        La IA ya define quién crece. Si tu competencia ya la usa y tú no, estás en desventaja. En Inner Circle la aterrizamos como ventaja, conectada a tu negocio, para que sigas competitivo en el mercado.
                    </p>
                    <ul class="space-y-3 mb-6">
                        <li class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-red-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm"><strong>Demanda e inventario:</strong> Menos sobrantes y menos "se nos acabó".</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-red-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm"><strong>Automatización:</strong> Menos trabajo manual y menos errores.</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-red-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm"><strong>Riesgo y fraude:</strong> Menos pérdidas y devoluciones.</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-red-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm"><strong>WhatsApp 24/7:</strong> Respondes siempre y no pierdes clientes.</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-red-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm"><strong>Recomendaciones:</strong> Más ventas por cliente (ticket más alto).</span>
                        </li>
                    </ul>
                </div>
                <div class="border-t border-gray-200 dark:border-zinc-700 pt-4 space-y-3 mt-auto">
                    <a
                        href="/blog"
                        class="flex items-center justify-between w-full border-2 border-red-600 text-red-600 px-5 py-3 rounded-lg font-semibold hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors min-h-[56px]"
                    >
                        <span>Descubrir Soluciones con Inteligencia Artificial</span>
                        <svg class="w-5 h-5 flex-shrink-0 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                        </svg>
                    </a>
                    <a
                        href="/tags?solucion=ia"
                        class="flex items-center justify-center w-full bg-red-600 text-white px-5 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors min-h-[56px]"
                    >
                        Quiero aplicar IA en mi negocio
                    </a>
                </div>
            </div>

            {/* Tarjeta Ventas */}
            <div class="flex flex-col h-full rounded-xl border border-gray-200 bg-white dark:bg-zinc-900 dark:border-zinc-700 p-6 sm:p-8 shadow-sm">
                <div class="flex-grow">
                    <h3 class="font-serif text-xl sm:text-2xl font-semibold mb-4 leading-tight">
                        Aumenta tus ventas con un <span class="text-red-600">sistema comprobado</span>
                    </h3>
                    <p class="text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-6">
                        Quien ya opera con un sistema comprobado está un paso adelante. En Inner Circle no solo lo implementamos: lo construimos a la medida, codo a codo contigo.
                    </p>
                    <ul class="space-y-3 mb-6">
                        <li class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-red-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm"><strong>Incremento en ventas:</strong> más cierres por persuasión, no por descuento.</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-red-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm"><strong>Más recompra:</strong> clientes que regresan y te recomiendan.</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-red-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm"><strong>Más utilidad:</strong> menos descuentos, mejor margen.</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-red-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm"><strong>Mejor experiencia para el cliente:</strong> atención clara y rápida.</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-5 h-5 text-red-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm"><strong>Menos dependencia de una sola persona:</strong> el proceso funciona siempre.</span>
                        </li>
                    </ul>
                </div>
                <div class="border-t border-gray-200 dark:border-zinc-700 pt-4 space-y-3 mt-auto">
                    <a
                        href="/blog"
                        class="flex items-center justify-between w-full border-2 border-red-600 text-red-600 px-5 py-3 rounded-lg font-semibold hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors min-h-[56px]"
                    >
                        <span>Descubrir Soluciones de Ventas</span>
                        <svg class="w-5 h-5 flex-shrink-0 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                        </svg>
                    </a>
                    <a
                        href="/tags?solucion=ventas"
                        class="flex items-center justify-center w-full bg-red-600 text-white px-5 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors min-h-[56px]"
                    >
                        Quiero aplicarlo a mi negocio
                    </a>
                </div>
            </div>
        </div>
    </section>

    {/* Sección ¿Quiénes Somos? */}
    <section class="mb-16 sm:mb-24">
        <h2 class="mb-6 font-serif text-3xl font-medium sm:text-5xl">¿Quiénes Somos?</h2>
        <p class="mb-12 sm:mb-16 text-base sm:text-lg text-black dark:text-white leading-relaxed max-w-4xl text-justify">
            Inner Circle es una consultora para crecer sin improvisación. Nos involucramos a fondo y convertimos estrategia en ejecución. Combinamos ingeniería e IA aplicada con finanzas, rentabilidad y experiencia real en ventas. Nuestro estándar es simple: si tomamos un proyecto, nos hacemos responsables del resultado y no le fallamos a nuestros clientes.
        </p>
        
        <div class="mb-10 sm:mb-12 flex flex-col sm:flex-row gap-6 items-start">
            <Image 
                src={HeroMiguel} 
                alt="Miguel Ángel Noriega"
                class="max-w-xs rounded-lg flex-shrink-0"
                width={1200}
                height={1200}
                quality={95}
            />
            <div class="grow">
                <h3 class="font-serif text-2xl leading-tight font-medium sm:text-4xl mb-3">
                    Miguel Ángel Noriega
                </h3>
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Socio Fundador | Inner Circle</p>
                <div class="text-sm leading-relaxed space-y-2 text-left">
                    <p>• IA para crecimiento: predicción, priorización y automatización comercial</p>
                    <p>• 8+ modelos en producción para empresas líderes: riesgo, forecast y recomendación</p>
                    <p>• Ventas + habilitación comercial: capacitación de equipos y adopción operativa</p>
                    <p>• Sistemas de ventas a la medida: CRM, KPIs, proceso y seguimiento</p>
                    <p>• Ing. Industrial y de Sistemas | Minor en Machine & Deep Learning (IA) — Tec de Monterrey</p>
                </div>
                <p class="text-xs text-gray-500 dark:text-gray-500 mt-4 italic">Trabajo bajo confidencialidad (NDA) | Implementación end-to-end | Enfoque en resultados</p>
            </div>
        </div>
    

        <div class="mb-10 sm:mb-12 flex flex-col sm:flex-row gap-6 items-start">
            <Image 
                src={HeroCesar} 
                alt="César Augusto Cid"
                class="max-w-xs rounded-lg flex-shrink-0"
                width={1200}
                height={1200}
                quality={95}
            />
            <div class="grow">
                <h3 class="font-serif text-2xl leading-tight font-medium sm:text-4xl mb-3">
                    César Augusto Cid
                </h3>
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Socio Fundador | Inner Circle</p>
                <div class="text-sm leading-relaxed space-y-2 text-left">
                    <p>• Finanzas corporativas para escalar: rentabilidad y control operativo</p>
                    <p>• Pricing y márgenes para empresas líderes: decisiones respaldadas por economía unitaria (unit economics)</p>
                    <p>• Planeación financiera (estándar CFO): presupuestos, escenarios y control del desempeño</p>
                    <p>• Sistemas comerciales rentables: métricas, disciplina y protección de margen</p>
                    <p>• Lic. en Finanzas | Minor en Banca de Inversión — Tec de Monterrey</p>
                </div>
                <p class="text-xs text-gray-500 dark:text-gray-500 mt-4 italic">Trabajo bajo confidencialidad (NDA) | Implementación end-to-end | Enfoque en resultados</p>
            </div>
        </div>
        <div class="flex justify-center gap-4 flex-wrap">
            <Button href="/quienes-somos">Ver trayectoria completa</Button>
            <a
                href="#casos-de-exito"
                class="inline-flex items-center justify-center px-6 py-2 font-serif leading-tight italic bg-red-600 border border-red-600 rounded-full transition-colors hover:bg-red-700 font-bold text-white"
            >
                Casos de Éxito
            </a>
        </div>
    </section>

    {/* Tarjetas de Casos de Éxito y botón Acercamiento inicial */}
    {
        featuredProjects?.length > 0 && (
            <div id="casos-de-exito" class="mb-16 sm:mb-24">
                <h2 class="mb-12 font-serif text-3xl font-medium sm:mb-16 sm:text-5xl">Casos de Éxito</h2>
                {/* Cards Tendenzza Results */}
                <div class="space-y-10 sm:space-y-12">
                    <div class="rounded-lg border border-main/20 bg-white dark:bg-zinc-900 dark:border-zinc-700 p-6 shadow-sm">
                        <h3 class="font-serif text-2xl sm:text-3xl font-semibold mb-2">Tendenzza — Etapa 1: Arquitectura e Implementación de un Sistema de Ventas</h3>
                        <div class="flex flex-col sm:flex-row sm:flex-wrap justify-center gap-3 mb-4">
                            <span class="block w-full sm:w-auto text-center rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-800">Aumento 32% en ventas</span>
                            <span class="block w-full sm:w-auto text-center rounded-full bg-blue-100 px-4 py-2 text-sm font-semibold text-blue-800">Aumento 48% cotizaciones</span>
                            <span class="block w-full sm:w-auto text-center rounded-full bg-purple-100 px-4 py-2 text-sm font-semibold text-purple-800">1→3 canales activos</span>
                            <span class="block w-full sm:w-auto text-center rounded-full bg-orange-100 px-4 py-2 text-sm font-semibold text-orange-800">Experiencia del cliente ↑</span>
                        </div>
                        <div class="flex justify-center mt-4">
                            <a href="/projects/tendenzza-stage-1" class="inline-flex items-center gap-2 rounded-lg bg-red-600 px-6 py-3 text-white font-semibold hover:bg-red-700 shadow-md hover:shadow-lg transition-all">Ver resultados y proceso</a>
                        </div>
                    </div>
                    <div class="rounded-lg border border-main/20 bg-white dark:bg-zinc-900 dark:border-zinc-700 p-6 shadow-sm">
                        <h3 class="font-serif text-2xl sm:text-3xl font-semibold mb-2">Tendenzza — Etapa 2: Expansión Posicionamiento y Diseño Comercial</h3>
                        <div class="flex flex-col sm:flex-row sm:flex-wrap justify-center gap-3 mb-4">
                            <span class="block w-full sm:w-auto text-center rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-800">1→3 sedes en CDMX</span>
                            <span class="block w-full sm:w-auto text-center rounded-full bg-blue-100 px-4 py-2 text-sm font-semibold text-blue-800">+38% visitas/día</span>
                            <span class="block w-full sm:w-auto text-center rounded-full bg-purple-100 px-4 py-2 text-sm font-semibold text-purple-800">+33% citas por visita</span>
                            <span class="block w-full sm:w-auto text-center rounded-full bg-orange-100 px-4 py-2 text-sm font-semibold text-orange-800">+17% anticipo por visita</span>
                            <span class="block w-full sm:w-auto text-center rounded-full bg-teal-100 px-4 py-2 text-sm font-semibold text-teal-800">+15% ticket promedio</span>
                        </div>
                        <div class="flex justify-center mt-4">
                            <a href="/projects/tendenzza-stage-2" class="inline-flex items-center gap-2 rounded-lg bg-red-600 px-6 py-3 text-white font-semibold hover:bg-red-700 shadow-md hover:shadow-lg transition-all">Ver resultados y proceso</a>
                        </div>
                    </div>
                    <div class="rounded-lg border border-main/20 bg-white dark:bg-zinc-900 dark:border-zinc-700 p-6 shadow-sm">
                        <h3 class="font-serif text-2xl sm:text-3xl font-semibold mb-2">Tendenzza — Etapa 3: Equipo Elite</h3>
                        <div class="flex flex-col sm:flex-row sm:flex-wrap justify-center gap-3 mb-4">
                            <span class="block w-full sm:w-auto text-center rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-800">12 contrataciones / 4 semanas (3 sedes)</span>
                            <span class="block w-full sm:w-auto text-center rounded-full bg-blue-100 px-4 py-2 text-sm font-semibold text-blue-800">100% aceptación de oferta</span>
                            <span class="block w-full sm:w-auto text-center rounded-full bg-purple-100 px-4 py-2 text-sm font-semibold text-purple-800">92% activos a 90 días</span>
                            <span class="block w-full sm:w-auto text-center rounded-full bg-orange-100 px-4 py-2 text-sm font-semibold text-orange-800">Retención temprana sólida</span>
                            <span class="block w-full sm:w-auto text-center rounded-full bg-teal-100 px-4 py-2 text-sm font-semibold text-teal-800">1 promoción a Gerente</span>
                        </div>
                        <div class="flex justify-center mt-4">
                            <a href="/projects/tendenzza-stage-3" class="inline-flex items-center gap-2 rounded-lg bg-red-600 px-6 py-3 text-white font-semibold hover:bg-red-700 shadow-md hover:shadow-lg transition-all">Ver resultados y proceso</a>
                        </div>
                    </div>
                </div>
                <div class="mt-12 sm:mt-16 flex justify-center">
                    <a
                        href="/tags"
                        style="display: inline-block; background-color: #dc2626; color: white; padding: 14px 32px; text-decoration: none; border-radius: 9999px; font-weight: 700; font-size: 1.125rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); transition: all 0.3s ease;"
                    >
                        Acercamiento inicial
                    </a>
                </div>
            </div>
        )
    }
</BaseLayout>
